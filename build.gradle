import java.time.ZoneOffset

group 'com.askattest.hello-world'
version '1.0.' + getDate()

apply plugin: 'java'

repositories {
  mavenCentral()
}

test {
  testLogging {
    exceptionFormat = 'full'
  }
}

dependencies {
  testCompile 'junit:junit:4.12'
}

jar {
  archiveName 'hello-world-' + project.version + '.jar'
  manifest {
    attributes 'Main-Class': 'com.askattest.helloworld.Run'
  }

  from {
    configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
  }
}

static getDate() {
  return new Date().format('yyMMddHHmmssSSS', TimeZone.getTimeZone(ZoneOffset.UTC))
}
